<% vehicle_details_count = model.vehicle_details_count %>

<% if vehicle_details_count > 0 %>
  <div class="col-md-4 mb-4">
    <div class="card shadow-sm">
      <%= image_tag model.model_image || "placeholder_image.jpg", class: "card-img-top img-fluid", alt: t("views.models.index.image_alt", model_name: model.name) %>
      
      <div class="card-body d-flex flex-column justify-content-between">
        <div>
          <h5 class="card-title"><%= model.name %></h5>
          <p class="card-text">
            <strong><%= t "views.models.index.price_per_day" %>:</strong>
            <span style="color: red; font-weight: bold;">
              â‚«<%= number_with_delimiter(model.price_per_day, delimiter: ".") %>
            </span>
          </p>

          <% if vehicle_details_count > 0 %>
            <p class="card-text text-muted">
              <strong><%= t "views.models.index.vehicle_count" %>:</strong>
              <%= vehicle_details_count %> <%= t "views.models.index.vehicles" %>
            </p>
          <% end %>
        </div>

        <% if vehicle_details_count.zero? %>
          <%= link_to t("views.models.index.out_of_stock"), model_path(model), class: "btn btn-outline-danger btn-sm btn-block" %>
        <% else %>
          <%= link_to t("views.models.index.view_details"), model_path(model), class: "btn btn-outline-primary btn-sm btn-block" %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
